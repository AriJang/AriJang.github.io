import{s as ve,n as oe,r as pe}from"../chunks/scheduler.BvLojk_z.js";import{S as ke,i as me,e as E,s as M,c as A,d as I,h as L,g as h,m as se,n as p,p as W,q as x,j as X,k as v,o as q,r as ne,u as ae,b as ce,f as ie,l as ye}from"../chunks/index.B4gDkw2S.js";function Q(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function ue(l,e,t){const n=l.slice();return n[24]=e[t],n[26]=t,n}function fe(l,e,t){const n=l.slice();return n[27]=e[t],n[29]=t,n}function je(l,e,t){const n=l.slice();return n[30]=e[t],n[32]=t,n}function ge(l,e,t){const n=l.slice();return n[30]=e[t],n[32]=t,n}function we(l){let e;return{c(){e=E("div"),this.h()},l(t){e=A(t,"DIV",{class:!0,style:!0}),I(e).forEach(h),this.h()},h(){p(e,"class","line horizontal svelte-jejc81"),x(e,"top",l[32]*(1200/18)+"px")},m(t,n){X(t,e,n)},p:oe,d(t){t&&h(e)}}}function Ee(l){let e;return{c(){e=E("div"),this.h()},l(t){e=A(t,"DIV",{class:!0,style:!0}),I(e).forEach(h),this.h()},h(){p(e,"class","line vertical svelte-jejc81"),x(e,"left",l[32]*(1200/18)+"px")},m(t,n){X(t,e,n)},p:oe,d(t){t&&h(e)}}}function Ae(l){let e;return{c(){e=E("div"),this.h()},l(t){e=A(t,"DIV",{class:!0}),I(e).forEach(h),this.h()},h(){p(e,"class","star-point svelte-jejc81")},m(t,n){X(t,e,n)},d(t){t&&h(e)}}}function Ne(l){let e;return{c(){e=E("div"),this.h()},l(t){e=A(t,"DIV",{class:!0}),I(e).forEach(h),this.h()},h(){p(e,"class","stone white svelte-jejc81")},m(t,n){X(t,e,n)},d(t){t&&h(e)}}}function Se(l){let e;return{c(){e=E("div"),this.h()},l(t){e=A(t,"DIV",{class:!0}),I(e).forEach(h),this.h()},h(){p(e,"class","stone black svelte-jejc81")},m(t,n){X(t,e,n)},d(t){t&&h(e)}}}function de(l){let e,t,n=l[3]&&he(l);return{c(){e=E("div"),n&&n.c(),this.h()},l(o){e=A(o,"DIV",{class:!0});var s=I(e);n&&n.l(s),s.forEach(h),this.h()},h(){p(e,"class",t="stone "+l[1][l[26]+1][l[29]+1]+" svelte-jejc81")},m(o,s){X(o,e,s),n&&n.m(e,null)},p(o,s){o[3]?n?n.p(o,s):(n=he(o),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s[0]&2&&t!==(t="stone "+o[1][o[26]+1][o[29]+1]+" svelte-jejc81")&&p(e,"class",t)},d(o){o&&h(e),n&&n.d()}}}function he(l){let e,t=l[2][l[26]+1][l[29]+1]+"",n;return{c(){e=E("span"),n=ce(t),this.h()},l(o){e=A(o,"SPAN",{class:!0});var s=I(e);n=ie(s,t),s.forEach(h),this.h()},h(){p(e,"class","move-number svelte-jejc81")},m(o,s){X(o,e,s),v(e,n)},p(o,s){s[0]&4&&t!==(t=o[2][o[26]+1][o[29]+1]+"")&&ye(n,t)},d(o){o&&h(e)}}}function be(l){let e,t=l[4].some(z),n,o,s,i,k;function z(...m){return l[14](l[26],l[29],...m)}let g=t&&Ae();function G(m,S){if(m[1][m[26]+1][m[29]+1]==="black")return Se;if(m[1][m[26]+1][m[29]+1]==="white")return Ne}let T=G(l),y=T&&T(l),b=(l[1][l[26]+1][l[29]+1]==="black"||l[1][l[26]+1][l[29]+1]==="white")&&de(l);function K(){return l[15](l[26],l[29])}function V(...m){return l[16](l[26],l[29],...m)}return{c(){e=E("div"),g&&g.c(),n=M(),y&&y.c(),o=M(),b&&b.c(),s=M(),this.h()},l(m){e=A(m,"DIV",{class:!0,style:!0,role:!0,tabindex:!0});var S=I(e);g&&g.l(S),n=L(S),y&&y.l(S),o=L(S),b&&b.l(S),s=L(S),S.forEach(h),this.h()},h(){p(e,"class","cell svelte-jejc81"),x(e,"top",l[26]*(1200/18)-25+"px"),x(e,"left",l[29]*(1200/18)-25+"px"),p(e,"role","button"),p(e,"tabindex","0")},m(m,S){X(m,e,S),g&&g.m(e,null),v(e,n),y&&y.m(e,null),v(e,o),b&&b.m(e,null),v(e,s),i||(k=[q(e,"click",K),q(e,"keydown",V)],i=!0)},p(m,S){l=m,T!==(T=G(l))&&(y&&y.d(1),y=T&&T(l),y&&(y.c(),y.m(e,o))),l[1][l[26]+1][l[29]+1]==="black"||l[1][l[26]+1][l[29]+1]==="white"?b?b.p(l,S):(b=de(l),b.c(),b.m(e,s)):b&&(b.d(1),b=null)},d(m){m&&h(e),g&&g.d(),y&&y.d(),b&&b.d(),i=!1,pe(k)}}}function _e(l){let e,t=Q(l[24].slice(1,20)),n=[];for(let o=0;o<t.length;o+=1)n[o]=be(fe(l,t,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=ae()},l(o){for(let s=0;s<n.length;s+=1)n[s].l(o);e=ae()},m(o,s){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(o,s);X(o,e,s)},p(o,s){if(s[0]&94){t=Q(o[24].slice(1,20));let i;for(i=0;i<t.length;i+=1){const k=fe(o,t,i);n[i]?n[i].p(k,s):(n[i]=be(k),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(o){o&&h(e),ne(n,o)}}}function Te(l){let e;return{c(){e=ce("순서보이기")},l(t){e=ie(t,"순서보이기")},m(t,n){X(t,e,n)},d(t){t&&h(e)}}}function Ce(l){let e;return{c(){e=ce("순서숨기기")},l(t){e=ie(t,"순서숨기기")},m(t,n){X(t,e,n)},d(t){t&&h(e)}}}function De(l){let e,t,n,o,s,i,k,z,g,G,T,y,b,K,V,m="리셋",S,R,P,$="기보 저장",Z,J,ee="기보 불러오기",te,H,le,u,f=Q(Array(19)),a=[];for(let c=0;c<f.length;c+=1)a[c]=we(ge(l,f,c));let N=Q(Array(19)),d=[];for(let c=0;c<N.length;c+=1)d[c]=Ee(je(l,N,c));let j=Q(l[1].slice(1,20)),_=[];for(let c=0;c<j.length;c+=1)_[c]=_e(ue(l,j,c));function C(c,w){return c[3]?Ce:Te}let B=C(l),O=B(l);return{c(){e=E("div"),t=E("div");for(let c=0;c<a.length;c+=1)a[c].c();n=M();for(let c=0;c<d.length;c+=1)d[c].c();o=M();for(let c=0;c<_.length;c+=1)_[c].c();s=M(),i=E("div"),k=E("button"),z=M(),g=E("button"),G=M(),T=E("button"),y=M(),b=E("button"),O.c(),K=M(),V=E("button"),V.textContent=m,S=M(),R=E("div"),P=E("button"),P.textContent=$,Z=M(),J=E("label"),J.textContent=ee,te=M(),H=E("input"),this.h()},l(c){e=A(c,"DIV",{class:!0});var w=I(e);t=A(w,"DIV",{class:!0});var r=I(t);for(let Y=0;Y<a.length;Y+=1)a[Y].l(r);n=L(r);for(let Y=0;Y<d.length;Y+=1)d[Y].l(r);o=L(r);for(let Y=0;Y<_.length;Y+=1)_[Y].l(r);r.forEach(h),s=L(w),i=A(w,"DIV",{class:!0});var U=I(i);k=A(U,"BUTTON",{class:!0}),I(k).forEach(h),z=L(U),g=A(U,"BUTTON",{class:!0}),I(g).forEach(h),G=L(U),T=A(U,"BUTTON",{class:!0}),I(T).forEach(h),y=L(U),b=A(U,"BUTTON",{class:!0});var re=I(b);O.l(re),re.forEach(h),K=L(U),V=A(U,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),se(V)!=="svelte-ib7ad3"&&(V.textContent=m),S=L(U),R=A(U,"DIV",{class:!0});var F=I(R);P=A(F,"BUTTON",{class:!0,"data-svelte-h":!0}),se(P)!=="svelte-5dzi3v"&&(P.textContent=$),Z=L(F),J=A(F,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),se(J)!=="svelte-zk6zwl"&&(J.textContent=ee),te=L(F),H=A(F,"INPUT",{type:!0,id:!0,class:!0}),F.forEach(h),U.forEach(h),w.forEach(h),this.h()},h(){p(t,"class","board svelte-jejc81"),p(k,"class","button white-button svelte-jejc81"),W(k,"selected",l[0]==="white"),p(g,"class","button black-button svelte-jejc81"),W(g,"selected",l[0]==="black"),p(T,"class","button alternate-button svelte-jejc81"),W(T,"selected",l[0]==="alternate"),p(b,"class","button number-button svelte-jejc81"),p(V,"class","button number-button svelte-jejc81"),x(V,"background-color","red"),p(P,"class","kibo-button save svelte-jejc81"),p(J,"for","kibo-file"),p(J,"class","kibo-button load svelte-jejc81"),p(H,"type","file"),p(H,"id","kibo-file"),p(H,"class","file-input svelte-jejc81"),p(R,"class","kibo-container svelte-jejc81"),p(i,"class","controls svelte-jejc81"),p(e,"class","board-container svelte-jejc81")},m(c,w){X(c,e,w),v(e,t);for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(t,null);v(t,n);for(let r=0;r<d.length;r+=1)d[r]&&d[r].m(t,null);v(t,o);for(let r=0;r<_.length;r+=1)_[r]&&_[r].m(t,null);v(e,s),v(e,i),v(i,k),v(i,z),v(i,g),v(i,G),v(i,T),v(i,y),v(i,b),O.m(b,null),v(i,K),v(i,V),v(i,S),v(i,R),v(R,P),v(R,Z),v(R,J),v(R,te),v(R,H),le||(u=[q(t,"contextmenu",l[7]),q(k,"click",l[9]),q(g,"click",l[10]),q(T,"click",l[11]),q(b,"click",l[5]),q(V,"click",l[8]),q(P,"click",l[12]),q(H,"change",l[13])],le=!0)},p(c,w){if(w[0]&94){j=Q(c[1].slice(1,20));let r;for(r=0;r<j.length;r+=1){const U=ue(c,j,r);_[r]?_[r].p(U,w):(_[r]=_e(U),_[r].c(),_[r].m(t,null))}for(;r<_.length;r+=1)_[r].d(1);_.length=j.length}w[0]&1&&W(k,"selected",c[0]==="white"),w[0]&1&&W(g,"selected",c[0]==="black"),w[0]&1&&W(T,"selected",c[0]==="alternate"),B!==(B=C(c))&&(O.d(1),O=B(c),O&&(O.c(),O.m(b,null)))},i:oe,o:oe,d(c){c&&h(e),ne(a,c),ne(d,c),ne(_,c),O.d(),le=!1,pe(u)}}}const D=21;function Ie(l,e,t){let n="alternate",o="black",s=Array(D).fill().map(()=>Array(D).fill(null)),i=0,k=Array(D).fill().map(()=>Array(D).fill(null)),z=[],g=!0;const G=[{x:4,y:4},{x:4,y:10},{x:4,y:16},{x:10,y:4},{x:10,y:10},{x:10,y:16},{x:16,y:4},{x:16,y:10},{x:16,y:16}];function T(){t(3,g=!g)}function y(u,f){if(s[u][f]===null){t(1,s[u][f]=o,s),i++,t(2,k[u][f]=i,k);const a=K(u,f);z.push({x:u,y:f,stone:o,capturedStones:a}),n==="alternate"&&(o=o==="black"?"white":"black")}else t(1,s[u][f]=null,s)}function b(u){if(u.preventDefault(),z.length>0){const f=z.pop(),{x:a,y:N,capturedStones:d}=f;t(1,s[a][N]=null,s),t(2,k[a][N]=null,k),i--;for(let{x:j,y:_,stone:C}of d)t(1,s[j][_]=C,s);o=f.stone}}function K(u,f){const a=o==="black"?"white":"black",N=[{dx:-1,dy:0},{dx:1,dy:0},{dx:0,dy:-1},{dx:0,dy:1}],d=[];for(let{dx:j,dy:_}of N){const C=u+j,B=f+_;if(C>0&&C<D&&B>0&&B<D&&s[C][B]===a){const O=V(C,B,a);m(O)&&(d.push(...O),S(O))}}return d}function V(u,f,a,N=new Set){const d=[],j=[{x:u,y:f}];N.add(`${u},${f}`);const _=[{dx:-1,dy:0},{dx:1,dy:0},{dx:0,dy:-1},{dx:0,dy:1}];for(;j.length>0;){const{x:C,y:B}=j.pop();d.push({x:C,y:B,stone:s[C][B]});for(let{dx:O,dy:c}of _){const w=C+O,r=B+c;w>0&&w<D&&r>0&&r<D&&s[w][r]===a&&!N.has(`${w},${r}`)&&(N.add(`${w},${r}`),j.push({x:w,y:r}))}}return d}function m(u){const f=[{dx:-1,dy:0},{dx:1,dy:0},{dx:0,dy:-1},{dx:0,dy:1}];for(let{x:a,y:N}of u)for(let{dx:d,dy:j}of f){const _=a+d,C=N+j;if(!(a===1&&d===-1)&&!(a===D-2&&d===1)&&!(N===1&&j===-1)&&!(N===D-2&&j===1)&&(_<=0||_>=D||C<=0||C>=D||s[_][C]===null))return!1}return!0}function S(u){for(let{x:f,y:a}of u)t(1,s[f][a]=null,s)}function R(){t(1,s=Array(D).fill().map(()=>Array(D).fill(null))),t(2,k=Array(D).fill().map(()=>Array(D).fill(null))),i=0,z=[],o="black"}function P(){t(0,n="white"),o="white"}function $(){t(0,n="black"),o="black"}function Z(){t(0,n="alternate"),o="black"}function J(){let u=prompt("파일 이름을 입력하세요:","kibo.json");u||(u="kibo.json");const a=JSON.stringify({board:s,history:z,moveHistory:k,moveCount:i}),N=new Blob([a],{type:"application/json"}),d=URL.createObjectURL(N),j=document.createElement("a");j.href=d,j.download=u,j.click(),URL.revokeObjectURL(d)}function ee(u){const f=u.target.files[0],a=new FileReader;a.onload=function(N){const d=JSON.parse(N.target.result);t(1,s=d.board),z=d.history,t(2,k=d.moveHistory),i=d.moveCount},a.readAsText(f)}return[n,s,k,g,G,T,y,b,R,P,$,Z,J,ee,(u,f,a)=>a.x===u+1&&a.y===f+1,(u,f)=>y(u+1,f+1),(u,f,a)=>{a.key==="Enter"&&y(u+1,f+1)}]}class Ve extends ke{constructor(e){super(),me(this,e,Ie,De,ve,{},null,[-1,-1])}}export{Ve as component};
